<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Macroeconomía</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Macroeconomía
### 30/7/2019

---


&lt;style&gt;

.center2 {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}

&lt;/style&gt;




## PIB

Es una medida de todos los bienes y servicios _finales_ que se producen _en una región o país_ en un _período de tiempo_ valuada a _precios de mercado_.

---
## Varias formas de medir el PIB

Como el PIB se mide por un conjunto de transacciones económicas, su valor es igual si lo medimos desde el punto de vista de la demanda que de la oferta.

---

# La oferta
En este enfoque, medimos el Valor Agregado que genera cada sector de actividad de la economía (industria, agro, servicios, etc.).

$$ PIB = \Sigma\ VAB_{sectores} $$
El Valor Agregado de cada sector se define como la diferencia entre el Valor de Producción y el Consumo Intermedio (gasto en materias primas).

---

# El gasto agregado

Desde el punto de vista de la demanda, el PIB se mide como la suma de los distintos gastos de la economía

$$ PIB = C + I + G + X$$

- C es el Consumo
- I es la inversión
- G es el Gasto Público
- X son las exportaciones netas ($Exportaciones - Importaciones$)

---

Las importaciones se restan porque es una parte del gasto de la economía que termina demando productos producidos en otra economía.

Para poder medir todos los productos que produce la economía, se usa el valor monetario de la producción tomando en cuenta los precios. Si usamos los precios del período en que produjeron los bienes, tenemos el PIB _en precios corrientes_. Si queremos sacar el efecto de los cambios en los precios para comparar el PIB de dos períodos, tomamos los precios de un _año base_, para calcular el PIB en precios constantes de ese año.

---
## Los Ingresos

Como todo lo que se vende en el mercado es el ingreso de algún factor (trabajo, capital, tierra), el PIB es igual si se mide por las ventas de las empresas o por las remuneraciones a los factores.

$$ PIB = Sueldos + Beneficios + Rentas + Impuestos\ Netos + Depreciación $$

---

## El problema de la doble contabilización

¿Qué pasa con los productos que no son comprados para ser consumidos (bienes finales), sino que son comprados por otras empresas como insumos para producir otros bienes?

---
# Producto Real y Producto Potencial

- El producto real es la producción de la economía en cada año.
- El producto potencial busca eliminar el componente cíclico.

---
# Evolución Reciente en Uruguay

![](imgs/ciclo_pib.png)
---


## PIB nominal vs PIB real

- Como el valor de la producción se hace a precios de mercado, el aumento en los precios hace que el PIB suba. 

- Pero si solo suben los precios, la economía no produce más.

---
&lt;blockquote class="twitter-tweet"&gt;&lt;p lang="en" dir="ltr"&gt;Growth in the &lt;a href="https://twitter.com/hashtag/advancedeconomies?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#advancedeconomies&lt;/a&gt; group is projected at –5.8% in 2020, 2.3 percentage points stronger than in the June 2020 WEO Update reflecting better-than-foreseen &lt;a href="https://twitter.com/hashtag/US?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#US&lt;/a&gt; and &lt;a href="https://twitter.com/hashtag/euroarea?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#euroarea&lt;/a&gt; GDP growth. Read more in the &lt;a href="https://twitter.com/hashtag/WEO?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#WEO&lt;/a&gt; &lt;a href="https://t.co/XMCO1e58iW"&gt;https://t.co/XMCO1e58iW&lt;/a&gt; &lt;a href="https://t.co/eL0MkNEA0i"&gt;pic.twitter.com/eL0MkNEA0i&lt;/a&gt;&lt;/p&gt;&amp;mdash; IMF (@IMFNews) &lt;a href="https://twitter.com/IMFNews/status/1316019642398175233?ref_src=twsrc%5Etfw"&gt;October 13, 2020&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;
---
## Algunos usos del PIB

![](imgs/pib-exante.jpeg)

---
## Algunos usos del PIB (2)

![](imgs/pib-gasto.jpeg)

---
## Algunos usos del PIB (3)

![](imgs/pib-industrias.jpeg)



---

# Preguntas 

Busca responder preguntas como:

- ¿Qué tan difícil es encontrar empleo?

- ¿Los salarios y el bienestar material de la población esta mejorando?

- ¿Qué pasa con el nivel de precios y el poder adquisitivo de los ingresos?

- ¿Cómo se comporta el tipo de cambio?

---
# Contexto histórico

.pull-left[

- John Maynard Keynes fue el que originó esta rama de la economía en los años 30s.
- Desarrolló los fundamentos teóricos de las __políticas macroeconómicas__
]

.pull-right[
&lt;img src="imgs/keynes.jpg"&gt;

]

---


## Objetivos de la política macroeconómica

- __Nivel de actividad económica__ Alto y creciente. Se mide por el PIB.
- __Nivel de precios__ Estable. La inflación tiene efectos negativos sobre la toma de decisiones y tiene un impacto regresivo en la distribución del ingreso.

- __Desempleo__ Bajo. Es un problema social e implica capacidades productivas inutilizadas. 

---

## Instrumentos de la política macroeconómica

- __Política Fiscal__ 
A través de los impuestos, el gobierno afecta los ingresos de los hogares y los precios relativos de algunos bienes (energía, cigarrillos). A través del __gasto público__ el gobierno afecta los ingresos de los hogares (transferencias) y el acceso a ciertos bienes (salud, educación, seguridad).

- __Política Monetaria__ El gobierno regula la cantidad de dinero circulante en la economía, el crédito actuando sobre las tasas de interés y regulando el sistema bancario. 

- __Inserción internacional__ El comercio internacional (exportaciones e importaciones) son clave para las economías pequeñas como Uruguay. Los instrumentos disponibles para incidir en estas variables son los aranceles y las cuotas. Además, las economías tienen relaciones financieras con el exterior. El gobierno regula estas relaciones mediante el sistema cambiario.



---
# Actividad Económica

- Las economías modernas pasan por períodos de auge y caída (fluctuaciones)

- En los períodos de auge es fácil conseguir empleo, los beneficios de las empresas son bajos y las fábricas trabajan por debajo de su capacidad.

---
# Explicaciones

- __Endógenas__: Crisis Financieras y ciclos de negocios
- __Exógenas__: Pánicos, hiperinflación, burbuja de la nueva economía, burbuja inmobiliaria, pandemias.



---
# El modelo de Oferta y Demanda Agregadas

- Es una teoría que busca explicar los ciclos de la economía.

---


![](imgs/modelo_oa_da.png)
---


---
# La Oferta Agregada

- Tiene pendiente positiva en el plano `\((Y, P)\)`
- Cambia cuando cambian los factores de producción o la tecnología de la economía.



---
# Demanda Agregada

- Es el output total de la economía que es demandado para cada nivel de precios.
- Tiene 4 componentes: consumo, inversión, gasto público y exportaciones netas.
  
$$ DA = C + I + G + NX $$
---
# Consumo

Es el gasto de los hogares en bienes como alimentos y servicios como la educación y la salud.

- Dependen __positivamente__ del nivel de ingresos __reales__.
- Dependen __negativamente__ del nivel de impuestos al consumo.

---
# Inversión

Es el gasto que hacen las empresas en bienes que aumentan la producción en el futuro (equipos, edificios, etc.)
- Dependen de las condiciones crediticias (tasas de interés para financiarse)
- Dependen de las expectativas de los empresarios.
- Dependen del nivel de impuestos a la inversión.

---
# Gasto Público

Es el gasto que hace el gobierno para proveer servicios públicos (seguridad, educación, salud) y las transferencias (jubilaciones, seguridad social).
- Es una variable que define el gobierno.

---
# Exportaciones netas

Es el gasto que hacen los extranjeros en nuestra economía (exportaciones) __menos__ el gasto que hacen los residentes en economías extranjeras (importaciones).

- Dependen del nivel de precios relativos de la economía doméstica con el resto del mundo.
- Depende del Tipo de Cambio (valor del dólar). Si el dólar sube, aumentan las exportaciones y caen las importaciones.
- Depende del nivel de ingresos de los países a los que exportamos (si hay una crisis en un país al que exportamos mucho nuestras exportaciones caen).

  
---

![](imgs/componentes_da.png)
  
---
# Demanda Agregada

- Tiene pendiente negativa.
- Esto se debe a que si sube el nivel de precios, los ingresos __reales__ caen.
- Además, si suben los precios domésticos, las exportaciones bajan y las importaciones suben.
- Cuidado con la diferencia entre los desplazamientos __sobre__ la DA y __de__ la DA.

---
![](imgs/movs_da.png)

---
# Cambios en la DA

- Variables de política
  - Política Monetaria
  - Política Fiscal
  
- Variables exógenas
  - Ingreso internacional
  - Activos
  - Tecnología
  - Otros


---
# Equilibrio Macroeconómico

![](imgs/equilibrio_macro.png)
---

# Shock en la demanda

![](imgs/shock_demanda.png)




&lt;!-- ## Movimientos de la DA vs. Movimientos sobre la DA --&gt;

&lt;!-- ```{r eval = FALSE} --&gt;

&lt;!-- punto_a &lt;- slice(demand, 70) --&gt;
&lt;!-- punto_b &lt;- slice(demand, 30) --&gt;

&lt;!-- p1 &lt;- ggplot(demand, aes(x = x, y = y)) +  --&gt;
&lt;!--   geom_path(color = "#0073D9", size = 1) +  --&gt;
&lt;!--   geom_point(data = punto_a) +  --&gt;
&lt;!--   geom_segment(x=0, y=punto_a$y, xend=punto_a$x, yend=punto_a$y, linetype = "dashed") +  --&gt;
&lt;!--   geom_segment(x=punto_a$x, y=0, xend=punto_a$x, yend = punto_a$y, linetype = "dashed") + --&gt;
&lt;!--   geom_point(data = punto_b) +  --&gt;
&lt;!--   geom_segment(x=0, y=punto_b$y, xend=punto_b$x, yend=punto_b$y, linetype = "dashed") +  --&gt;
&lt;!--   geom_segment(x=punto_b$x, y=0, xend=punto_b$x, yend = punto_b$y, linetype = "dashed") + --&gt;
&lt;!--   geom_segment(data = slice(demand, seq(70, 30, by=-10)),  --&gt;
&lt;!--                aes(xend=lag(x), yend=lag(y)), --&gt;
&lt;!--                color = "red", --&gt;
&lt;!--             arrow = arrow(type = "open", angle = 30, length = unit(0.1, "inches"))) +  --&gt;
&lt;!--   scale_y_continuous(lim = c(0, 11), expand = c(0, 0)) +   --&gt;
&lt;!--   coord_equal() + --&gt;
&lt;!--   labs(title = "Movimiento sobre la curva") --&gt;

&lt;!-- ``` --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- p2 &lt;- ggplot(demand, aes(x = x)) +  --&gt;
&lt;!--   geom_path(aes(y=y), color = "#0073D9", size = 1) +  --&gt;
&lt;!--   geom_path(aes(y=y+2), color = "#0073D9", size = 1, linetype = "dashed") +  --&gt;
&lt;!--   geom_segment(x=2, xend=2.5, y=7, yend=7.5, size = 0.2,  --&gt;
&lt;!--                arrow=arrow(type = "open", angle = 30, length = unit(0.1, "inches"))) + --&gt;
&lt;!--   geom_segment(x=4.6, xend=5.2, y=4, yend=4.7, size = 0.2,  --&gt;
&lt;!--                arrow=arrow(type = "open", angle = 30, length = unit(0.1, "inches"))) + --&gt;
&lt;!--   scale_y_continuous(lim = c(0, 11), expand = c(0, 0)) +   --&gt;
&lt;!--   coord_equal() + --&gt;
&lt;!--   labs(title = "Movimiento de la curva") --&gt;

&lt;!-- ``` --&gt;

&lt;!-- .center2[ --&gt;
&lt;!-- ```{r} --&gt;
&lt;!-- plot_grid(p1, p2) --&gt;
&lt;!-- ``` --&gt;
&lt;!-- ] --&gt;



&lt;!-- --- --&gt;
&lt;!-- # Caída en la demanda agregada --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- demand &lt;- function(q) (q - 10)^2 --&gt;
&lt;!-- demand_2 &lt;- function(q) (q - 10)^2 + 40 --&gt;
&lt;!-- supply &lt;- function(q) q^2 + 2*q + 8 --&gt;

&lt;!-- x &lt;- 0:10 --&gt;


&lt;!-- q_1 &lt;- uniroot(function(x) demand(x) - supply(x), range(x))$root --&gt;
&lt;!-- q_2 &lt;- uniroot(function(x) demand_2(x) - supply(x), range(x))$root --&gt;


&lt;!-- p_1 &lt;- supply(q_1) --&gt;
&lt;!-- p_2 &lt;- supply(q_2) --&gt;

&lt;!-- chart &lt;- ggplot() + --&gt;
&lt;!--   stat_function(aes(x, color = "Demand_2"),  --&gt;
&lt;!--                 xlim = c(1.5, 8), --&gt;
&lt;!--                 fun = demand, linetype = "dashed") + --&gt;
&lt;!--   stat_function(aes(x, color = "Demand_1"),  --&gt;
&lt;!--                 xlim = c(1.5, 8), --&gt;
&lt;!--                 fun = demand_2) + --&gt;
&lt;!--   stat_function(aes(x, color = "Supply"), fun = supply) + --&gt;
&lt;!--   labs(title = "Caída en la DA", --&gt;
&lt;!--     caption = "Una caída de la demanda agregada reduce el PIB y el nivel de precios",  --&gt;
&lt;!--     y="P", x="Q") --&gt;

&lt;!-- caida &lt;- chart + --&gt;
&lt;!--   annotate("point", x = q_1, y = p_1) + # Refactor to use another data set? --&gt;
&lt;!--   annotate("point", x = q_2, y = p_2) + # geom_point, geom_step, geom_text_repel --&gt;
&lt;!--   annotate("segment", x=0, y=p_1, xend=q_1, yend=p_1, linetype = "dashed") +  --&gt;
&lt;!--   annotate("segment", x=q_1, y=p_1, xend=q_1, yend=0, linetype = "dashed") +  --&gt;
&lt;!--   annotate("segment", x=0, y=p_2, xend=q_2, yend=p_2, linetype = "dashed") +  --&gt;
&lt;!--   annotate("segment", x=q_2, y=p_2, xend=q_2, yend=0, linetype = "dashed") +  --&gt;
&lt;!--   scale_x_continuous(breaks = c(q_1, q_2), labels = expression(Q[1], Q[2]), --&gt;
&lt;!--                      expand = expand_scale(add = c(0, 2), --&gt;
&lt;!--                                            mult = c(0, 0))) + --&gt;
&lt;!--   scale_y_continuous(breaks = c(p_1, p_2),  --&gt;
&lt;!--                      labels = expression(P[1], P[2]), --&gt;
&lt;!--                      limits = c(0, 101), --&gt;
&lt;!--                      expand = c(0, 0)) + --&gt;
&lt;!--   geom_segment(aes(color = "Qd", x = 10, xend = 10, y=0, yend = 100), size = 1) + # Add manual legend --&gt;
&lt;!--   theme( --&gt;
&lt;!--     axis.title.y = element_text(angle = 0, vjust = 1) , --&gt;
&lt;!--     axis.title.x = element_text(hjust = 1, vjust = 6) --&gt;
&lt;!--   ) --&gt;

&lt;!-- caida --&gt;
&lt;!-- ``` --&gt;


&lt;!-- --- --&gt;
&lt;!-- ## El modelo del multiplicador --&gt;


&lt;!-- Ejemplo numérico --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- df &lt;- tibble( --&gt;
&lt;!--   GDP = seq(4200, 2700, by=-300), --&gt;
&lt;!--   Consumo = seq(3800, 2800, by = -200), --&gt;
&lt;!--   S = GDP-Consumo, --&gt;
&lt;!--   I = 200 --&gt;
&lt;!-- ) --&gt;

&lt;!-- knitr::kable(df) %&gt;%  --&gt;
&lt;!--   kable_styling() --&gt;

&lt;!-- ``` --&gt;

&lt;!-- $$ C = 1000 + \frac{2}{3} GDP $$ --&gt;


&lt;!-- --- --&gt;
&lt;!-- ## Gráficamente: Equilibrio --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- # Fig. 22-7 --&gt;
&lt;!-- base_multiplicador &lt;- df %&gt;%  --&gt;
&lt;!--   ggplot() +  --&gt;
&lt;!--   geom_line(aes(GDP, Consumo+I)) + --&gt;
&lt;!--   geom_abline(slope = 1, intercept = 0) +  --&gt;
&lt;!--   scale_x_continuous(expand = c(0, 0)) +  --&gt;
&lt;!--   scale_y_continuous(expand = c(0, 0), breaks = df$GDP) + --&gt;
&lt;!--   coord_equal() +  --&gt;
&lt;!--   labs(x = "GDP", y="Gasto Agregado") --&gt;

&lt;!-- ``` --&gt;


&lt;!-- ```{r} --&gt;
&lt;!-- equilibrio &lt;- filter(df, GDP == Consumo + I) --&gt;

&lt;!-- graf_equilibrio &lt;- base_multiplicador +  --&gt;
&lt;!--   #geom_line(aes(GDP, Consumo), linetype = "dashed") +  --&gt;
&lt;!--   geom_point(aes(x=GDP, y=Consumo+I), data = equilibrio) + --&gt;
&lt;!--   geom_segment(aes(x=2700, y=equilibrio$GDP, xend=equilibrio$GDP, yend = equilibrio$GDP)) + --&gt;
&lt;!--   geom_segment(aes(x=equilibrio$GDP, y=equilibrio$GDP, xend=equilibrio$GDP, yend = 2750)) --&gt;
&lt;!-- graf_equilibrio --&gt;


&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;
&lt;!-- ## Ajustes fuera del equilibrio --&gt;

&lt;!-- ```{r, fig.width = 10, fig.height=10} --&gt;
&lt;!-- g1 &lt;- base_multiplicador +  --&gt;
&lt;!--   labs(title = "Ingreso &lt; DA") --&gt;

&lt;!-- g2 &lt;- base_multiplicador +  --&gt;
&lt;!--   labs(title = "Ingreso &gt; DA") --&gt;

&lt;!-- plot_grid(g1, g2) --&gt;
&lt;!-- ``` --&gt;


&lt;!-- --- --&gt;
&lt;!-- ## Aumento del gasto exógeno --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- graf_equilibrio +  --&gt;
&lt;!--  geom_line(aes(GDP, Consumo), color ="red") + --&gt;
&lt;!--  geom_segment(aes(x=3900, y=3650, xend=3900, yend=3750), arrow=arrow(length=unit(0.20,"cm"))) + --&gt;
&lt;!--  geom_segment(aes(x=3000, y=3050, xend=3000, yend=3150), arrow=arrow(length=unit(0.20,"cm"))) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;
&lt;!-- ## Aumento del gasto exógeno (2) --&gt;

&lt;!-- El efecto multiplicador --&gt;


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
